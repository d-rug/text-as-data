[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Text as data",
    "section": "",
    "text": "Overview\nThis mini-workshop is a quick intro demonstrating different approaches for reading in text into R, and how to manipulate text data using stringr and regular expressions."
  },
  {
    "objectID": "01_text-data.html#where-to-get-text-data",
    "href": "01_text-data.html#where-to-get-text-data",
    "title": "Text as data",
    "section": "Where to get text data?",
    "text": "Where to get text data?\nText is everywhere! And can be a really cool core or supplemental data source. But how do we get text data? One way is through web scraping, through which can collect all sorts of structured and unstructured data for us. Check out this other D-RUG tutorial on web scraping.\nAnother common way to get text data is through electronic reading of texts, such as reading from PDFs or using OCR on images files. PDFs are usually easier to read and work will with packages like pdftools::, while images can be a bit trickier, even with good OCR functionality like in tesseract::."
  },
  {
    "objectID": "01_text-data.html#data-seed-savers-exchange-catalogs",
    "href": "01_text-data.html#data-seed-savers-exchange-catalogs",
    "title": "Text as data",
    "section": "Data: Seed Savers Exchange catalogs",
    "text": "Data: Seed Savers Exchange catalogs\nThe data we’re going to be working with are data from the Seed Savers Exchange catalogs, primarily from 2004. We have these catalogs across several years, including 2015 and 2020, which we have in PDF format. PDFs are easier to work with, and so we can use pdftools for these files.\nFor example, we can read in a page from the 2015 catalog and see what it looks like\n\n\n\n\n\n\n\n\n\n\nWe can read in that page and use the cat function to print it out accounting for page formatting and everything:\n\ntext15 <- pdftools::pdf_text(\"~/Box/quantifying_seed_innovation/sse/sse_census15.pdf\")[12]\ncat(text15)\n\n                                                                   SOURCES\nBse 2BSeeds, 280 E 1st Ave #1055, Broomfield Co 80038-1055. Email:                  Oregon. We steward rare, diverse and resilient seed varieties for\ncustserv@2bseeds.com. Phone: (303)465-3395. Offered 183 varieties in                ecologically-minded farmers, gardeners and seed savers. Our seed is\n2015, including: 2 Artichoke, 1 Asparagus, 12 Bean, 3 Beet, 1 Bok Choy,             adapted to the Pacific Northwest and other short season northern climates.\n1 Broccoli, 1 Brussels Sprouts, 3 Cabbage, 1 Carrot, 1 Celery, 1 Chinese            We sell only public domain, open pollinated seed, as well as many diverse\nCabbage, 2 CHIVES & GARLIC CHIVES, 1 Collard, 1 Cress,                              genepool mixes. All our seed is grown by either us or a few regional friends\n10 Cucumber, 1 Eggplant, 1 Endive, 2 Gourd, 2 Kale, 2 Leek, 17 Lettuce,             who help with isolation needs. NONE of our seed are proprietary hybrids\n1 Lima Bean, 1 Luffa, 3 Melon, 2 Misc Vegetables, 1 Mizuna, 2 Mustard               (F1), patented, PVP, or genetically modified (GMO). All of our seed is grown\nGreens, 3 Okra, 7 ONION COMMON, 8 Pea, 29 Pepper, 8 Radish,                         without chemical fertilizers, herbicides or pesticides, and none of it is\n1 Soybean, 1 Spinach, 18 Squash, 2 Swiss Chard, 2 Tomatillo,                        treated. Our farm has been Certified Organic by Oregon Tilth since 2013.\n25 Tomato, 3 Watermelon/Citron                                                      Offered 340 varieties in 2015, including: 5 Amaranth, 1 Arugula, 37 Bean,\n                                                                                    2 Beet, 1 Bok Choy, 2 Broccoli, 1 Brussels Sprouts, 1 Burdock,\nBe1 A Bean Collector's Window Email: upadam@comcast.net. Russ Crow                  2 Cabbage, 1 Carrot, 1 Cauliflower, 1 Celeriac, 1 Chickpea/Garbanzo\nis a bean collector from Woodstock, Illinois. He got his start as a member of       Bean, 6 Chicory/Radicchio, 1 Chinese Cabbage, 8 Corn, 1 Cowpea,\nJohn Withee's Wanigan Associates network of bean preservationists in the            2 Cress, 8 Cucumber, 5 Eggplant, 7 Endive, 2 Fava/Broad Bean,\n1970s. He is also a long-time member of Seed Savers Exchange. Offered               2 Fennel, 8 Garlic, 1 Ground Cherry, 7 Kale, 3 Leek, 29 Lettuce, 5 Melon,\n264 varieties in 2015, including: 247 Bean, 17 Lima Bean                            2 Misc Legumes, 2 Misc Vegetables, 2 Mustard Greens, 1 ONION\n                                                                                    BUNCHING, 4 ONION COMMON, 1 ONION MULTIPLIER, 2 Parsley,\n                                                                                    1 Parsnip, 4 Pea, 17 Pepper, 1 Purslane, 3 Quinoa, 1 Radish, 1 Runner\nAgh1 A Goodly Heritage, 38012 W 196th St, Rayville MO 64084. Email:                 Bean, 3 Rutabaga, 1 Salsify, 1 Scorzonera/Black Salsify, 1 Soybean,\naghfservices@att.net. Phone: (256)590-4727. We are a small family                   2 Spinach, 19 Squash, 4 Sunflower, 1 Tepary Bean, 3 Tomatillo,\noperated nursery. We sell natural-grown old varieties of fruit trees, berry         106 Tomato, 1 Turnip, 5 Watermelon/Citron\nplants, and grapevines. Retail only. Offered 2 varieties in 2015, including:\n2 Garlic\n                                                                                    AL24 Albert Lea Seed House , PO Box 127, Albert Lea MN 56007. Phone:\n                                                                                    (507)373-3161. Albert Lea Seed began in 1923 as a family-owned seed\nWh5 A.P. Whaley LLC, 1928 Syvrud Rd, Mt Horeb WI 53572. Email:                      store offering field seed and garden seed. Today we are three generations\nawhaley@mhtc.net. Phone: (608)437-9081. Offered 337 varieties in 2015,              strong offering knowledge and experience in seed and crop production,\nincluding: 1 Arugula, 31 Bean, 6 Beet, 5 Carrot, 2 Corn, 9 Cucumber,                processing, and cultural practices that benefits any sized farm operation.\n7 Eggplant, 1 Ground Cherry, 2 Kale, 15 Lettuce, 3 Lima Bean, 11 Melon,             Offered 163 varieties in 2015, including: 1 Arugula, 1 Asparagus, 14 Bean,\n1 Misc Cucurbits, 1 Misc Vegetables, 5 ONION COMMON, 1 ONION                        2 Beet, 1 Bok Choy, 2 Broccoli, 1 Brussels Sprouts, 4 Cabbage, 5 Carrot,\nMULTIPLIER, 15 Pea, 26 Pepper, 6 Radish, 4 Runner Bean, 1 Spinach,                  1 Cauliflower, 1 Celery, 8 Corn, 1 Cowpea, 9 Cucumber, 2 Eggplant,\n32 Squash, 6 Sunflower, 128 Tomato, 18 Watermelon/Citron                            2 Gourd, 1 Ground Cherry, 1 Kale, 2 Kohlrabi, 4 Lettuce, 1 Lima Bean,\n                                                                                    1 Luffa, 4 Melon, 1 Okra, 1 ONION BUNCHING, 3 ONION COMMON,\nAb2 Abbe Hills Seed, L. J. Krouse , 825 Abbe Hills Road, Mt Vernon IA               1 Parsley, 1 Parsnip, 10 Pea, 7 Pepper, 14 Potato, 9 Radish,\n52314. Email: lkrouse@abbehills.com. Phone: (319)895-6924. Sells one                1 Rutabaga, 1 Spinach, 24 Squash, 2 Sunflower, 2 Swiss Chard,\nvariety of Reid's Yellow Dent-type open-pollinated untreated corn for               1 Tomatillo, 7 Tomato, 1 Turnip, 8 Watermelon/Citron\nlivestock feed or silage. Retail and wholesale. Check www.abbehills.com for\ncurrent information. Offered 1 varieties in 2015, including: 1 Corn                 All Allen, Sterling and Lothrop, 191 U.S. Rt. 1, Falmouth ME 04105-1385.\n                                                                                    Email: shirley@allensterlinglothrop.com. Phone: (207)781-4142. Fax:\nABB Abbott & Cobb, Inc. , 4151 East Street Rd, Feasterville PA                      (207)781-4143. Specializes in vegetable seeds adapted to northern New\n19053-0307. Email: acseed@abbottcobb.com. Phone: (215)245-6666.                     England. Company founded in 1911. Retail only. Offered 122 varieties in\nStrictly wholesale! Specializes in sweet corn, watermelon, peppers and              2015, including: 2 Arugula, 12 Bean, 4 Beet, 1 Broccoli, 1 Brussels\nsquash. Offered 1 varieties in 2015, including: 1 Bean                              Sprouts, 4 Cabbage, 6 Carrot, 1 Cauliflower, 1 Collard, 1 Corn, 1 Cress,\n                                                                                    7 Cucumber, 1 Eggplant, 1 Endive, 1 Fava/Broad Bean, 1 Fennel, 3 Kale,\nAda Adams-Briscoe Seed Co., 325 E. Second St. , P.O. Box 19, Jackson                2 Kohlrabi, 1 Leek, 8 Lettuce, 2 Lima Bean, 1 Melon, 2 Misc Vegetables,\nGA 30233-0019. Email: abseed@juno.com. Phone: (877)775-7826.                        1 Okra, 1 ONION BUNCHING, 1 ONION COMMON, 2 Parsley, 1 Parsnip,\nSpecializes in farm, lawn and wildlife seed that is grown in the southeastern       13 Pea, 3 Pepper, 7 Radish, 1 Runner Bean, 1 Rutabaga, 1 Spinach,\nU.S. Retail and wholesale. Offered 172 varieties in 2015, including:                16 Squash, 1 Sunflower, 3 Swiss Chard, 3 Tomato, 1 Turnip,\n18 Bean, 2 Beet, 1 Broccoli, 5 Cabbage, 3 Carrot, 1 Cauliflower,                    1 Watermelon/Citron, 1 Yard Long Bean\n1 Chicory/Radicchio, 4 Collard, 9 Corn, 20 Cowpea, 8 Cucumber,\n1 Eggplant, 2 Gourd, 3 Kale, 7 Lettuce, 10 Lima Bean, 4 Melon, 2 Misc               Am1                American                Meadows                   Email:\nLegumes, 5 Misc Vegetables, 2 Mustard Greens, 3 Okra, 7 Pea,                        customerservice@americanmeadows.com. Phone: (877)309-7333. Our\n7 Pepper, 5 Radish, 1 Rutabaga, 4 Sorghum, 5 Soybean, 1 Spinach,                    approach is simple; for years we have offered gardeners only the best\n10 Squash, 3 Sunflower, 7 Tomato, 4 Turnip, 7 Watermelon/Citron                     wildflower seeds, flower bulbs, perennial plants and flowers, vegetable\n                                                                                    seeds and flower seed packets; the ones we grow in our own gardens. We\nAd5 Adaptive Seeds, Seed Ambassadors Project , 25079 Brush Creek                    stand ready to help you grow with confidence! Offered 58 varieties in 2015,\nRoad, Sweet Home OR 97386. Email: seed@adaptiveseeds.com. Phone:                    including: 1 Arugula, 5 Bean, 1 Beet, 1 Broccoli, 2 Cabbage, 1 Carrot,\n((541) 367)1105. Adaptive Seeds was established in 2009 by Andrew Still             1 Cauliflower, 2 Corn, 3 Cucumber, 1 Eggplant, 6 Lettuce, 2 Melon,\nand Sarah Kleeger, and is based at Open Oak Farm in Sweet Home,                     1 Misc Vegetables, 1 Okra, 1 ONION BUNCHING, 2 Parsley, 6 Pea,\n\n                                                                                1\n\n\nThese data look good. But what about the OCR option? Right outside the DataLab is the 2004 Garden Seed Inventory, but having this book in paper form makes our job more challenging.\n\n\n\n\n\n\n\n\n\n\nBecause we don’t have PDFs for these catalogs, the next best option is to treat them as images and OCR them in. For example, I can take an image of each page, then read them in with the tesseract::ocr function:\n\np25 <- tesseract::ocr('img/p25_plain.png')\ncat(p25)\n\nee\n_gisher's Garden Store, PO Box 236, 20750 E, Frontage Road, B,\nFis Titje, MT 59714. Phone: 406-388-6052. Free catalog. Breeders and\nera vers of vegetable and flower seeds for high altitudes and short\nerswing seasons, including many’ varieties originated by them Een\neyed in Montana in 1923 ae\nFlorida Mycology Research Center, PO Box 8104 Pen acola, FL\nGE 32505. Phone: 850-327-4378. $10 for their main catalog (free if you\nmention reading about them in this Garden Seed Inventors), eonigioe\nthe world’s largest selection of mushroom spores and live cultures\ngrowing supplies and publications. Annual subscription to their\nquarterly color mushroom journal, which contains actual [i e mushroom\nspore print samples, is $20. Retail and whol esale prices are listed in the\nsame catalog. . +t\nFo4 Four Seasons Nursery, Division of Plantron, Inc., 17 on\nBloomington, IL 61704. Free catalog. a a\nFo7 Fox Hollow Seed Company, PO Box 148, Me p\nPhone: 888-548-7333. Free catalog. Spec\nheirloom, untreated varieties, including man e\ncertified organic. Retail only. €\nFre Fred's Plant Farm, 4589 Ralston Road\n800-550-2575. Free catalog. Extensive col\nyams. Currently offering nine types, inclu\nand wholesale prices are on the same pric\nFun Fungi Perfecti, PO Box 7634, Olympi\n9292. Fax: 360-426-9377. Family-own\nf _ quality gourmet and medicinal mu\ncd chutes for their cultivation. R\n\n\nUnfortunately, OCRing from an image can be tough. Even with typed font, we’re really not picking up some important pieces of information.\nBut, Apple / privately developed technology to the rescue. I recently learned that iPhones have some pretty advanced technology for reading text. As I hover over text with an iPhone, I am prompted with some yellow brackets and a text document symbol in the bottom right. I can capture this this by touching that text document symbol and the iPhone will pull out a frame. Then I can use my finger to highlight the text and make sure that iPhone is reading the lines correctly. Last, I can copy that text, paste it in a note, and mail myself a plain text file. So cool!\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAnd after some patience, we can have a whole plain text file. We’ll be using this together:\n\ntext <- readtext::readtext(\"data/sse_seed_inventory_04.txt\")\n\nNote what readtext does – it puts all the text in one column and a document id in another.\n\nhead(text)\n\nreadtext object consisting of 1 document and 0 docvars.\n$text\n[1] \"# A data frame: 1 × 2\"                                \n[2] \"  doc_id                    text               \"      \n[3] \"* <chr>                     <chr>              \"      \n[4] \"1 sse_seed_inventory_04.txt \\\"\\\\\\\"Ab2 Abbe H\\\\\\\"...\\\"\"\n\n$summary\n$summary[[1]]\nNULL\n\n\nattr(,\"class\")\n[1] \"trunc_mat\"\n\n\nWe’ll just want to worry about the text column, so we can go ahead and subset that.\n\ntext <- text[,2]\n\nAnd now we can glimpse the beginning of the text using the substr function in base R. Looking good.\n\ncat(substr(text, 47548, 51310))\n\nFIS Fisher's Garden Store, 20750 E. Frontage Road, PO\nBox 236, Belgrade, MT 59714. Phone: 406-388-6052. Free catalog. Breeders and growers of vegetable and flower seeds for high altitudes and short growing seasons including many\nvarieties originated by them. Established in Montana in 1923.\nOffered 124 non-hybrid vegetable varieties in 2004 including: 1 asparagus, 11 bean, 4 beet, 1 broccoli, 1 brussels sprout, 6 cabbage, 4 carrot, 2 cauliflower, I celery, I Chinese cabbage, 1 collard, 4 com, 1 cress, 5 cucumber, 1 kale, I kohlrabi, 9 lettuce, 1 melon, 1 onion bunching, 5 onion common, 1 onion other, 2 parsley, I parsnip, 8 pea, 3 pepper, 3 potato, 7 radish, 1 runner bean, 1 rutabaga, I salsify, 1 spinach, 16 squash, 1 sunflower ornamental, 1 sunflower edi-ble. 3 Swiss chard, 9 tomato, 2 turnip and 2 miscellaneous.\n\nFI3 Florida Mycology Research Center, P.O. Box 18105,\nPensacola, FL 32523-8105. Phone: 850-327-4378. E-mail:\nFloridaMycology@cs.com Web Site: www.mushroomsfmrc com. $10 for their main catalog (free if you mention reading about them in this Garden Seed Inventory), containing the world's largest selection of mushroom spores and live cultures, growing supplies and publications since 1972.\nAnnual subscription to their quarterly color mushroom joural is $20. Retail and wholesale. Offered 74 mushroom varieties in 2004.\n\nFO4 Four Seasons Nursery, Division of Plantron, Inc.,\n1706 Morrissey Drive, Bloomington, IL 61704. Phone: 309-\n663-9551. E-mail: customerservice@seasonsnurseries.com.\nWeb Site: www.4seasonsnurseries.com. Free catalog. Retail only. Offered 1 leek in 2004.\n\nFO7 Fox Hollow Seed Company, 204 Arch Street, Kittan-~~~ OUT OF BUSINESS ning, PA 16201. E-mail: seeds@alltel.net. Web Site: www.foxhollowseed.com. Free catalog. Specializes in open-pollinated, heirloom, untreated varieties including many certified organic vegetable seeds. Retail only. Offered 327\nnon-hybrid vegetable varieties in 2004 including: 42 bean, 3\nbeet, 2 broccoli, 1 brussels sprout, 8 cabbage, 1 cardoon, 8 carrot, 2 cauliflower, 1 celeriac, I celery, 3 Chinese cabbage, 4 chicory, 2 collard, 10 com, I comsalad, 3 cress, 7 cucum-ber, 2 eggplant, 2 endive, I fava bean, 1 fennel, 2 kale, 1 kohlrabi, I leek, 23 lettuce, 7 lima, 7 melon, 1 mustard greens, 1 okra, 9 onion common, 2 onion other, 4 parsley, 1 parsnip, 12 pea, 37 pepper, 9 radish, 2 runner bean, rutabaga, 1 salsify, 2 sorghum, 2 spinach, 13 squash, sunflower edible, 2 Swiss chard, 1 tomatillo, 60 tomato, 4 tumip, 7 watermelon, I miscellaneous cucurbitaceae and 8 miscellaneous.\n\nFO13 Forget Me Not Heritage Seed, 729 Erbsville Road,\nWaterloo, ON N2J 3Z4, Canada. Web Site: www. forgetmenotseeds.com. On-line catalog. Will ship small quantities of seed to the U.S. for home garden use. Offers untreated, open-pollinated seed grown with respect for the earth. Offered 58 non-hybrid vegetable varieties in 2004\nincluding: 7 bean, 3 beet, I broccoli, 2 cabbage, 2 carrot, 3 cucumber, 4 lettuce. 1 mustard greens, 3 onion common, onion other, 3 pea, 5 pepper, 1 radish, 2 runner bean, spinach, 4 squash, I Swiss chard and 14 tomato.\n\nFRE Fred's Plant Farm, 4589 Ralston Road, Martin, IN\n38237. Phone: 800-550-2575. Free catalog. Extensive collection of sweet potatoes and yams, including some old-timers. Retail and wholesale. Offered 9 sweet potato varieties in 2004.\n\nFun Fungi Perfecti, PO Box 7634, Olympia, WA 98507.\nPhone:\n360-426-9292. Fax: 360-426-9377. E-mail:\nmy\ncomedia@aol.com. Web Site: www.fungi.com. Free bro-chure. $4.95 for 80-page catalog. Family-owned business specializing in high-quality gourmet and medicinal mushroom kits, spawn, plug spawn, along with equipment and techniques for their cultivation. Retail and wholesale.\nOffered 16 mushroom varieties in 2004.\n\n\nSo, now let’s get into actually using these data…"
  },
  {
    "objectID": "02_working-with-text.html#set-up",
    "href": "02_working-with-text.html#set-up",
    "title": "Working with text",
    "section": "Set-up",
    "text": "Set-up\nFirst things first, let’s make sure we have all of our text data in. We can go ahead and read it in from GitHub.\n\ntext <- readtext::readtext(\"data/sse_seed_inventory_04.txt\")[,2]\n\nLet’s also make sure that we have our main package installed and loaded: the stringr package.\n\n#install.packages('stringr')\nlibrary(stringr)"
  },
  {
    "objectID": "02_working-with-text.html#exploring-text-data",
    "href": "02_working-with-text.html#exploring-text-data",
    "title": "Working with text",
    "section": "Exploring text data",
    "text": "Exploring text data\nLet’s start by taking a look at our data to understand what it is we’re starting with. We’ve got a character string that only has a length of 1 – it is not yet broken up – but it is long. It has 186 thousand characters.\n\ntypeof(text)\n\n[1] \"character\"\n\n\n\nlength(text)\n\n[1] 1\n\n\n\nnchar(text)\n\n[1] 185723\n\n\nNow, there are other base R ways of exploring text data, but we are going to focus on the stringr package and the functionality it offers. I’m a big fan on the stringr cheat sheet and rely on it almost every time I work with text. I like this package because, in addition to the useful cheat sheet, it has intuitive function names that can let you explore strings. For example, can I detect the word ‘kale’ anywhere in this string?\n\nstr_detect(text, 'kale')\n\n[1] TRUE\n\n\nOkay, great. How many times?\n\nstr_count(text, 'kale')\n\n[1] 140\n\n\n140 mentions of kale, excellent. But where?\n\nstr_locate(text, 'kale')\n\n     start end\n[1,]   642 645\n\n\nThis is an identification of location using character numbers. We can confirm that by pulling out those character number numbers as ‘sub-strings’:\n\nstr_sub(text, 642, 645)\n\n[1] \"kale\"\n\n\nBut there are supposed to be 140 of these. I want all of their location.\n\nstr_locate_all(text, 'kale')\n\n[[1]]\n        start    end\n  [1,]    642    645\n  [2,]   1293   1296\n  [3,]   1952   1955\n  [4,]   3550   3553\n  [5,]   4364   4367\n  [6,]   5158   5161\n  [7,]   5991   5994\n  [8,]   7197   7200\n  [9,]   8741   8744\n [10,]  13180  13183\n [11,]  13943  13946\n [12,]  14890  14893\n [13,]  16933  16936\n [14,]  19051  19054\n [15,]  20097  20100\n [16,]  20916  20919\n [17,]  21645  21648\n [18,]  23705  23708\n [19,]  24753  24756\n [20,]  25345  25348\n [21,]  26141  26144\n [22,]  26796  26799\n [23,]  27574  27577\n [24,]  28560  28563\n [25,]  29848  29851\n [26,]  30989  30992\n [27,]  32656  32659\n [28,]  33609  33612\n [29,]  35838  35841\n [30,]  37232  37235\n [31,]  38105  38108\n [32,]  42464  42467\n [33,]  43390  43393\n [34,]  44913  44916\n [35,]  45879  45882\n [36,]  48068  48071\n [37,]  49747  49750\n [38,]  51896  51899\n [39,]  54870  54873\n [40,]  55690  55693\n [41,]  58730  58733\n [42,]  60115  60118\n [43,]  61349  61352\n [44,]  63600  63603\n [45,]  64492  64495\n [46,]  66061  66064\n [47,]  67087  67090\n [48,]  68057  68060\n [49,]  69287  69290\n [50,]  70083  70086\n [51,]  71169  71172\n [52,]  72453  72456\n [53,]  73728  73731\n [54,]  74338  74341\n [55,]  76126  76129\n [56,]  77176  77179\n [57,]  78111  78114\n [58,]  79127  79130\n [59,]  80344  80347\n [60,]  81310  81313\n [61,]  82651  82654\n [62,]  83407  83410\n [63,]  84373  84376\n [64,]  85764  85767\n [65,]  87261  87264\n [66,]  88991  88994\n [67,]  89804  89807\n [68,]  90696  90699\n [69,]  92601  92604\n [70,]  93432  93435\n [71,]  95678  95681\n [72,]  96775  96778\n [73,]  97656  97659\n [74,]  99018  99021\n [75,]  99768  99771\n [76,] 101719 101722\n [77,] 104010 104013\n [78,] 105083 105086\n [79,] 107242 107245\n [80,] 108319 108322\n [81,] 109102 109105\n [82,] 109959 109962\n [83,] 110759 110762\n [84,] 111497 111500\n [85,] 113227 113230\n [86,] 114271 114274\n [87,] 117070 117073\n [88,] 118504 118507\n [89,] 120008 120011\n [90,] 121229 121232\n [91,] 122781 122784\n [92,] 124346 124349\n [93,] 126711 126714\n [94,] 127737 127740\n [95,] 128508 128511\n [96,] 129612 129615\n [97,] 131206 131209\n [98,] 132070 132073\n [99,] 132967 132970\n[100,] 134240 134243\n[101,] 135875 135878\n[102,] 137392 137395\n[103,] 138474 138477\n[104,] 139573 139576\n[105,] 140383 140386\n[106,] 141792 141795\n[107,] 142905 142908\n[108,] 143877 143880\n[109,] 144639 144642\n[110,] 145541 145544\n[111,] 146598 146601\n[112,] 147068 147071\n[113,] 148788 148791\n[114,] 149680 149683\n[115,] 151815 151818\n[116,] 152647 152650\n[117,] 153246 153249\n[118,] 154323 154326\n[119,] 155364 155367\n[120,] 156140 156143\n[121,] 157822 157825\n[122,] 158423 158426\n[123,] 159449 159452\n[124,] 161266 161269\n[125,] 162559 162562\n[126,] 163278 163281\n[127,] 164602 164605\n[128,] 165537 165540\n[129,] 166343 166346\n[130,] 169743 169746\n[131,] 170555 170558\n[132,] 171479 171482\n[133,] 174895 174898\n[134,] 176108 176111\n[135,] 178183 178186\n[136,] 179836 179839\n[137,] 180980 180983\n[138,] 182393 182396\n[139,] 183758 183761\n[140,] 184981 184984\n\n\nSo, stringr is fairly intuitive and fun, but to get more serious with text we are going to layer on two components: 1) pattern detection with regular expressions (regex) and 2) using ‘dictionaries’ to parse apart long strings."
  },
  {
    "objectID": "02_working-with-text.html#pattern-detection-with-regex",
    "href": "02_working-with-text.html#pattern-detection-with-regex",
    "title": "Working with text",
    "section": "Pattern detection with regex",
    "text": "Pattern detection with regex\nLet’s start by taking a look at any of the stringr functions’ help file an cue into what it describes for the pattern argument.\n\n?str_locate\n\nFor the pattern argument, we see this description: “The default interpretation is a regular expression, as described in vignette(”regular-expressions”).” We can take a look at that vignette, which defines: Regular expressions are a concise and flexible tool for describing patterns in strings\nWhat does this mean? I personally love the second page the stringr cheat sheet for guidance on this.\n\nknitr::include_graphics(\"img/stringr_cheatsheet.png\")\n\n\n\n\n\n\n\n\nAnd to make it tangible, let’s first use a fun, short character string to understand these various features.\n\nveg <- \"kale, tomato, Kale, pepper, Artichoke, pea$, peppers, tomato\"\n\nAlternates\nFirst, let’s try to kind the locations of all the kale.\n\nstr_locate_all(veg, \"kale\")\n\n[[1]]\n     start end\n[1,]     1   4\n\n\nClose, but it only gives me one of the kale locations. Why? String patterns are case sensitive. So, one way of detecing both is to write out our pattern using the ‘or’ symbol |.\n\nstr_locate_all(veg, \"kale|Kale\")\n\n[[1]]\n     start end\n[1,]     1   4\n[2,]    15  18\n\n\nBut this isn’t very efficient because we are trying each pattern rather than using regex to generalize. So instead, we could give it alternates using square brackets to indicate that the ‘k’ can be either upper or lower case.\n\nstr_locate_all(veg, \"[Kk]ale\")\n\n[[1]]\n     start end\n[1,]     1   4\n[2,]    15  18\n\n\nQuantifiers\nNext, let’s locate peppers.\n\nstr_locate_all(veg, \"peppers\")\n\n[[1]]\n     start end\n[1,]    46  52\n\n\nThe thing is, we have one ‘pepper’, and one ‘peppers’. Again, we could use the or symbol to specify both, but that is inefficient. So another way to identify both is by using a quantifier to suggest that there may be one or more ‘s’ appended to ‘pepper’. The ? quantifier suggests that there might be zero or one of the characters immediately preceding it. Now it can locate ‘pepper’ and/or ‘peppers’ because the pattern identifiers that were might be zero ‘s’s or one ’s’ attached to ‘peppers’. Bothb match the pattern.\n\nstr_locate_all(veg, \"peppers?\")\n\n[[1]]\n     start end\n[1,]    21  26\n[2,]    46  52\n\n\nLook arounds and anchors\nWhat if instead of grabbing all of the identical patterns, I wanted just some particular match of a pattern, for example, just the first ‘tomato’. Right now, there are identical objects in our string so the pattern matches both.\n\nstr_locate_all(veg, 'tomato')\n\n[[1]]\n     start end\n[1,]     7  12\n[2,]    55  60\n\n\nOf course we could index from the str_locate_all function, but let’s do it with regex instead. We can use look arounds to get specific. What if we want the ‘tomato’ pattern only if its followed by the pattern ‘, Kale’? We can use the look around to specify where tomato is in relation to other patterns.\n\nstr_locate_all(veg, 'tomato(?=, Kale)')\n\n[[1]]\n     start end\n[1,]     7  12\n\n\nOn the flip side, what if we just just wanted the word tomato if it is at the end of the string? We can use an anchor to specify that the pattern needs to be the last thing in the string.\n\nstr_locate_all(veg, 'tomato$')\n\n[[1]]\n     start end\n[1,]    55  60\n\n\nPlaying with regular expressions and all their functionality will help you figure out what tools can be used for what tasks.\nEscaping special characters\nSometimes we want to use special characters for good and other times we want the literal character in our pattern. For instances, what if I want regex to find the word ‘peas’ spelled with a dollar sign ‘pea$’. Because $ is a special symbol in regex (remember, it is an anchor suggesting that in this pattern, pea is at the end of the string), stringr can’t find it at first.\n\nstr_locate(veg, \"pea$\")\n\n     start end\n[1,]    NA  NA\n\n\nIf you want regex to detect the symbol, rather than interpret the regex meaning of the symbol, you can escape it with two backslashes:\n\nstr_locate(veg, \"pea\\\\$\")\n\n     start end\n[1,]    40  43\n\n\nIt is important to know what needs escaped, so have a good look at the cheat sheet! Generally, most punctuation should be escaped, and it doesn’t hurt to escape something that doesn’t need escaped (because slashes need escaped too, which can get a bit messy)."
  },
  {
    "objectID": "02_working-with-text.html#the-power-of-a-dictionary",
    "href": "02_working-with-text.html#the-power-of-a-dictionary",
    "title": "Working with text",
    "section": "The power of a dictionary",
    "text": "The power of a dictionary\nNow that we have a sense of regular expressions, we can return to our text strong. Because where things really get interesting is if you have a dictionary that you can use to match to and extract based on. For instance, if we take at look at our data, we have all of these seed companies and associated data – where they’re from, what they sell, how to contact them, etc. What we need to turn this into a nice clean data set is a key or dictionary to reference as a pattern for separating our text and pulling out uniform information.\nLet’s start with a key piece of information that can help us: a dictionary of company IDs. This is data I had to request from the catalog (though I could have made it by hand, many dictionaries are, or extracted it some other way). Let’s read in this data frame of IDs:\n\nids <- read.csv('data/ids_04.csv')\n\n\nExtracting matches\nWith these we can try to understand how the IDs match to the test in the catalog. One good function to start with is the str_extract_all() function, which can help us understand – are all of these IDs in the text? How many times?\n\nids_matched <- str_extract_all(text, ids$vendorid)\n\nThe extract functions output a list, and what we see here is that some of the patterns have been detected multiple times.\n\nhead(ids_matched)\n\n[[1]]\n[1] \"Red2\"\n\n[[2]]\n[1] \"MI12\"\n\n[[3]]\n[1] \"Ri12\"\n\n[[4]]\n[1] \"Se7\"\n\n[[5]]\n[1] \"Na2\"\n\n[[6]]\n[1] \"Bou\" \"Bou\" \"Bou\" \"Bou\"\n\n\n\nwhich(lengths(ids_matched) > 1)\n\n [1]   6  10  15  19  22  24  26  32  33  37  39  42  44  47  48  49  56  57  59\n[20]  62  63  67  82  89 102 108 122 126 131 141 146 148 149 157 161 163 168 173\n[39] 176 179 191 195 203 204 226 239 249 262 264 280 285 289 304 305 306 310 341\n[58] 348\n\n\nThese repeates are likely because these patterns are both IDs and they exist in other words, like “Bounty” or “Boundary” that might come up also in this text. To overcome this, remember that regex has several special matching characters. For instance, we could tell regex that we want these patterns to be detected with word boundaries – meaning that are not housed within other words. Word boundaries are denoted by the \\\\b characters, which we can paste around our IDs.\n\nids$vendorid_bounded <- paste0(\"\\\\b\", ids$vendorid, \"\\\\b\")\nhead(ids$vendorid_bounded)\n\n[1] \"\\\\bRed2\\\\b\" \"\\\\bMI12\\\\b\" \"\\\\bRi12\\\\b\" \"\\\\bSe7\\\\b\"  \"\\\\bNa2\\\\b\" \n[6] \"\\\\bBou\\\\b\" \n\n\nNow let’s try again.\n\nids_matched <- str_extract_all(text, ids$vendorid_bounded)\nwhich(lengths(ids_matched) > 1)\n\n[1] 149 168 191\n\n\nNow we have much fewer repeats. Andwhat’s left are the IDs that match stand-alone words (mostly), and so this seems more reasonable to make the pattern more exact for these few cases.\n\nids$vendorid_bounded[ids$vendorid_bounded == \"\\\\bMay\\\\b\"] <- \"May Earl May Seed\"\nids$vendorid_bounded[ids$vendorid_bounded == \"\\\\bAll\\\\b\"] <- \"All Allen\"\nids$vendorid_bounded[ids$vendorid_bounded == \"\\\\bLOC\\\\b\"] <- \"LOC Lockhart Seeds\"\n\nNow if we try again we can see we have no repeats.\n\nids_matched <- str_extract_all(text, ids$vendorid_bounded)\nwhich(lengths(ids_matched) > 1)\n\ninteger(0)\n\n\nNow that there are no multiple matches, we can bind this list into a data.frame. Note that we only have 260 IDs in the text compared to the 351 ids we read in, but that is an issue for another time.\n\nids_df <- data.frame(\"id\" = do.call('rbind', ids_matched))\n\n\n\nSplitting text by IDs\nFor now, let’s say we have 260 identifiable vendors in our text. Now we want to split our giant string by these IDs. We know that the catalog is indexed in alphabetical order according to the ids, so let’s first get ourselves set up so that our IDs are also alphabetical.\n\nids_df$id <- sort(ids_df$id)\n\nNow the hard part. We want to split apart the text each ID, and keep the text in between as our metadata. If we do this with the vector of IDs, we don’t get very far.\n\ntext_split <- str_split(text, ids_df$id)\n\nIf we open this up we see that each item in the list starts at the beginning, with the first pattern. This is because we aren’t feeding str_split a pattern. Right now ids_df$id is a vector. Note: we were allowed to give str_extract_all a vector earlier because the _all element of that function vectorizes across the pattern (I think?).\nSo to make this a pattern, we once again want each ID to be recognized as its own unique pattern, so let’s again wrap these with word boundaries and this time, collapse them with the | or symbol.\n\nids_bounded_pattern <- paste(ids_df$id, collapse = \"\\\\b|\\\\b\")\nids_bounded_pattern <- paste0('\\\\b', ids_bounded_pattern, '\\\\b')\nstr_sub(ids_bounded_pattern, 1,48)\n\n[1] \"\\\\bAb2\\\\b|\\\\bABB\\\\b|\\\\bAda\\\\b|\\\\bAG7\\\\b|\\\\bAL25\\\\b|\\\\bAL6\\\\b\"\n\n\nNow we can split the string based on this pattern of IDs that are surrounded by word boundaries, separated using the or symbol.\n\ntext_split <- str_split(text, ids_bounded_pattern)\n\nNow, let’s check out this object.\n\nlengths(text_split)\n\n[1] 261\n\ntext_split[[1]][1]\n\n[1] \"\"\n\ntext_split[[1]][2]\n\n[1] \" Abbe Hills Seed, L. J. Krouse, 825 Abbe Hills Road,\\nMt. Vernon, IA 52314. Phone: 319-895-6924. E-mail:\\nIkrouse@cornellcollege.edu. Send SASE for information letter. Sells one variety of Reid's Yellow Dent-type open-pollinated untreated com in one-bushel bags, for livestock feed or silage. Retail and wholesale. Offered 1 corn variety in 2004.\\n\\n\"\n\ntext_split[[1]][3]\n\n[1] \" Abbott and Cobb, Inc., PO Box 307, Feasterville, PA\\n19053-0307. Phone: 215-245-6666. Web Site: www.acseed com. Strictly wholesale. Specializes in sweet com, water-melon, peppers and squash. Offered 55 non-hybrid vegetable varieties in 2004 including: 2 beet, 2 collard, 2 com, 2 cress, 2 kale, 2 melon, 1 mustard greens, 1 okra, 1 onion other, 3 parsley, 4 pepper, 2 radish, I rutabaga, 2 spinach, 15 squash,\\n3 Swiss chard, 2 turnip, 4 watermelon and 4 miscellaneous.\\n\\n\"\n\n\nIt looks pretty good. The first item in the list has a length of 261 (almost the same as our IDs). And if we look at a few we see that the first is empty but the rest are stand-alone company profiles. So Let’s make this first item (minus the first row) into a data frame.\n\ntext_df <- data.frame(\"text\" = text_split[[1]][-1])\n\nAnd let’s bind it to our IDs. Note, we feel confident binding this because these are the same IDs we used to split on – this is why we organized them into alphabetical order!\n\ndf <- cbind(ids_df, text_df)\nhead(df)\n\n    id\n1  Ab2\n2  ABB\n3  Ada\n4  AG7\n5 AL25\n6  AL6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             text\n1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Abbe Hills Seed, L. J. Krouse, 825 Abbe Hills Road,\\nMt. Vernon, IA 52314. Phone: 319-895-6924. E-mail:\\nIkrouse@cornellcollege.edu. Send SASE for information letter. Sells one variety of Reid's Yellow Dent-type open-pollinated untreated com in one-bushel bags, for livestock feed or silage. Retail and wholesale. Offered 1 corn variety in 2004.\\n\\n\n2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Abbott and Cobb, Inc., PO Box 307, Feasterville, PA\\n19053-0307. Phone: 215-245-6666. Web Site: www.acseed com. Strictly wholesale. Specializes in sweet com, water-melon, peppers and squash. Offered 55 non-hybrid vegetable varieties in 2004 including: 2 beet, 2 collard, 2 com, 2 cress, 2 kale, 2 melon, 1 mustard greens, 1 okra, 1 onion other, 3 parsley, 4 pepper, 2 radish, I rutabaga, 2 spinach, 15 squash,\\n3 Swiss chard, 2 turnip, 4 watermelon and 4 miscellaneous.\\n\\n\n3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Adams-Briscoe Seed Co., 325 E. Second St., P.O. Box 19, Jackson, GA 30233-0019. Phone: 770-775-7826. Fax:\\n770-775-7122. E-mail: abseed@juno.com. Web Site:\\nwww.abseed.com. Free catalog. Specializes in farm, lawn and wildlife seed that is grown in the southeastern U.S.\\nRetail and wholesale. Offered 125 non-hybrid vegetable varieties in 2004 including: 16 bean, 1 beet, 1 broccoli, 4\\ncabbage, 1 Chinese cabbage, 3 collard, 9 com, 19 cowpea, 3\\ncucumber, 1 eggplant, 2 kale, 4 lettuce, 10 lima, 4 melon, 2 mustard greens, 4 okra, 6 pea, 6 pepper, 3 radish, 1 spinach, 9 squash, 1 sunflower ornamental, 1 sunflower edible, 4 tomato, 4 turnip, 1 miscellaneous leguminosae and 5 miscel-\\nlaneous.\\n\\n\n4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Agrestal Organic Heritage Seed Co., P.O. Box 646,\\nGormley, ON LOH 1G0, Canada. Fax: 905-888-0094. E-mail: agrestal@sympatico.ca. Free catalog: Small, family-owned and operated Canadian seed company offering certified organic open-pollinated heirloom seed. Retail and wholesale. Offered 171 non-hybrid vegetable varieties in 2004 including: 14 bean, 4 beet, 7 carrot, 1 Chinese cabbage, 17 com, 8 cucumber, 3 eggplant, 3 endive, 2 kale, 27 lettuce, 4 melon, 1 mustard greens, 3 okra, 2 onion other, 2 parsley, 9 pea, 10 pepper, 5 radish, 1 spinach, 12 squash, 3 sunflower omamental, 3 sunflower edible, 2 Swiss chard, 1 tepary, 22 tomato, 1 miscellaneous leguminosae and 4 miscellaneous.\\n\\n\n5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Ken Allan, 61 S. Bartlett St., Kingston, ON K7K 1X3, Canada. E-mail: allan@kingston.net. Send SASE for catalog (in Canada), or 50-cent Canadian stamp or SI (in U.S.).\\nSpecializes in organically grown vegetable seeds, particularly sweet potatoes and tall peas. Sweet potatoes for Canada only.\\nRetail only. Offered 28 non-hybrid vegetable varieties in 2004 including: 2 bean, 1 com, 3 pea, 3 pepper, 14 sweet potato and 5 tomato.\\n\\n\n6  Along the Garden Path, A Keenan Family Renaissance, General Delivery, Springbrook, ON KOK 3C0, Canada. Web Site: www.eagle.ca/~-akeenan/Gardenpath html. On-line catalog. Commited to preserving heritage vegetable varieties. Offered 36 non-hybrid vegetable varieties in 2004 including: 2 bean, 3 cucumber, 1 eggplant, 1 ground cherry, 4 lettuce, 1 lima, 1 pea, 3 pepper, 4 squash and 16 tomato\\n\\nAlB Alberta Nurseries and Seeds Ltd., Box 20, Bowden, AB TOM OKO, Canada. Phone: 403-224-3544. Fax: 403-224-\\n2455. Free catalog in Canada only; $2 to U. S. Specializes in early-maturing seeds for short-season areas. Retail and internet sales. Offered 131 non-hybrid vegetable varieties in 2004 including: 1 asparagus, 17 bean, 5 beet, 1 broccoli, 1 brussels sprout, 5 cabbage, 6 carrot, 2 cauliflower, 1 celeriac, 2 celery, 1 Chinese cabbage, 2 cress, 5 cucumber, I endive, 1\\nfava bean, 1 fennel, 1 garlic, 1 kale, 2 kohlrabi, 1 leek, 9 lettuce, 1 onion bunching, 3 onion common, 1 onion multi-plier, 2 onion other, 2 parsley, 3 parsnip, 11 pea, 4 pepper, 2 potato, 9 radish, 1 runner bean, 2 rutabaga, 1 salsify, 10 squash, I sunflower edible, 2 Swiss chard, 5 tomato, 1 turnip, 1 watermelon, I miscellaneous leguminosae and 2 miscel-\\nTaneous.\\n\\n\n\n\nExcellent. Now we have split our data based on IDs. Now we have our text data as a data frame. One good tip is to clean things up a little bit by cleaning whitespace on the sides.\n\ndf$id <- trimws(df$id)\ndf$text <- trimws(df$text)\n\n\n\nBonus test as data extraction\nTo finalize these data, let’s ask ourselves some bonus questions about these data. For instance:\n\nWhich of these companies work with organic varieties?\nWhich of these companies have my favorite vegetables?\nWhich state are these companies in?\n\nWe can apply what we’ve learned from stringr to answer these questions easily now that we have unique blocks of text to work with. For instance, we can use a str_detect now to get TRUE or FALSE for each row for certain patterns, like organic.\n\ndf$organic <- str_detect(df$text, '[Oo]rganic')\nhead(df$organic)\n\n[1] FALSE FALSE FALSE  TRUE  TRUE FALSE\n\n\nWe can do something similar for vegetables, where we can create a pattern of our favorite vegetables, with alternates, and look for that in each row.\n\nfaves <- c(\"[Ss]quash\", \"[Rr]adish\", \"[Bb]ean\")\nfaves_pattern <- paste(faves, collapse = \"|\")\ndf$fave_veg <- str_detect(df$text, faves_pattern)\ntable(df$fave_veg)\n\n\nFALSE  TRUE \n   61   199 \n\n\nLast, we can make a pattern with all of the state abbreviations, though instead of separating just by word boundaries, we want to be careful to grab true state abbreviations. We can do that by making the pattern in front of it include a comma and a space, since we know that is how addresses are written.\n\nstates <- c(\"CA\", \"OR\", \"WA\", \"ID\", \"NV\", \"AZ\", \"UT\", \"NM\", \"CO\", \"WY\", \"MT\",\n            \"AK\", \"HI\", \"ND\", \"SD\", \"KS\", \"NE\", \"MN\", \"IA\", \"MO\", \"WI\", \"IL\",\n            \"MI\", \"IN\", \"OH\", \"TX\", \"OK\", \"AR\", \"LA\", \"KY\", \"TN\", \"MS\", \"AL\",\n            \"FL\", \"GA\", \"SC\", \"NC\", \"VA\", \"PR\", \"WV\", \"MD\", \"DE\", \"NJ\", \"PA\",\n            \"NY\", \"CT\", \"RI\", \"MA\", \"VT\", \"NH\", \"ME\")\nstates_pattern <- paste0(',\\\\s', states, '\\\\b')\nstates_pattern <- paste(states_pattern, collapse = \"|\")\nstr_sub(states_pattern, 1,47)\n\n[1] \",\\\\sCA\\\\b|,\\\\sOR\\\\b|,\\\\sWA\\\\b|,\\\\sID\\\\b|,\\\\sNV\\\\b|,\\\\sAZ\\\\b\"\n\n\nNow we can str_extract, rather than str_detect to pull out the matches from the text. We are going to use str_extract instead of _all to choose the first one. There is still some data messiness beyond this lesson that would need addressed if we wanted to use _all.\n\ndf$state <- str_extract(df$text, states_pattern)\nhead(df$state)\n\n[1] \", IA\" \", PA\" \", GA\" NA     NA     NA    \n\n\nGreat, we have state IDs, but let’s make those a little cleaner with str_remove.\n\ndf$state <- trimws(str_remove(df$state, \",\\\\s\"))\n\nNow, we can create an output with our local picks by filtering based on what we’ve identified in our data.\n\nlocal_picks <- dplyr::filter(df, state == \"CA\" & organic == T & fave_veg == T)\n\n\nlocal_picks$text\n\n[1] \"Natural Gardening Company, PO Box 750776,\\nPetaluma, CA 94975-0776. E-mail: info@naturalgardening .com. Web Site: www.naturalgardening.com. Free catalog.\\nStarted the nation's first certified organic nursery. Offers untreated vegetable seeds, many certified organic and certified organic seedlings. Specializes in tomatoes. Offered 151 non-hybrid vegetable varieties in 2004 including: 1 amaranth, 1 artichoke, 13 bean, 3 beet, 1 broccoli, 1 broccoli raab, 1 cabbage, 1 cardoon, 3 carrot, 1 cauliflower, 1 celery,\\n3 Chinese cabbage, 1 chicory, 1 collard, 1 comsalad, 3\\ncucumber, 5 eggplant, 2 endive, 1 fava bean, 1 fennel. 1 gourd, 2 kale, 1 leek, 16 lettuce, I lima, 5 melon, I mustard greens, 3 onion common, 2 onion other, 2 parsley, 1 parsnip, 4 pca, 9 pepper, 4 potato, 2 radish, 1 runner bean, 2 soybean, 1 spinach, 13 squash, 1 sunflower ornamental, 1 sunflower edible, 3 Swiss chard, 1 tomatillo, 23 tomato, 1 turip, 1 watermelon and 4 miscellaneous.\"                                                                                                                                                                                                                                                                                                     \n[2] \"Peaceful Valley Farm Supply, PO Box 2209, Grass\\nValley, CA 95945. Phone: 888-784-1722. Fax: 530-272-\\n4794. E-mail: contact@groworganic.com. Web Site: www. groworganic.com. Tools and supplies for organic gardeners and farmers since 1976. Free 140-page catalog with over 2,000 items including fertilizers, organic and/or open-pollinated vegetable and cover crop seeds, weed and pest controls, beneficial insects, irrigation and (in Fall) bulbs, garlic, onions, potatoes and fruit trees. Offered 343 non-hybrid vegetable varieties in 2004 including: 3 amaranth, 1 artichoke, 1 asparagus, 15 bean, 8 beet, 3 broccoli, 1 broccoli raab, 1 brussels sprout, 3 cabbage, 9 carrot, 1 cauliflower, 1\\nceleriac, 1 celery, 6 Chinese cabbage, 1 chicory, 15 com, 2\\ncress, 8 cucumber, 2 eggplant, 2 endive, 2 fava bean, 2\\nfennel, 9 garlic, 4 gourd, 5 kale, 4 leek, 32 lettuce, 1 lima, 10 melon, 2 mustard greens, 2 okra, 2 onion bunching, 7 onion common, 2 onion multiplier, 2 onion other, 5 parsley, 1 parsnip, 10 pea, 21 pepper, 8 potato, 7 radish, 2 runner bean, 1 sorghum, 1 soybean, 3 spinach, 21 squash, 7 sunflower oramental, 5 sunflower edible, 6 Swiss chard, 2 tomatillo, 53 tomato, 2 turnip, watermelon, 2 miscellaneous leguminosae and 12 miscellaneous.\\n31\"\n[3] \"Terra Organics, LLC, PO Box 171, Maxwell, CA\\n95955. Free price list. The first wholesale seed company to offer a full line of multiple species of organic seeds.\\nWholesale only. Offered 221 non-hybrid vegetable varieties in 2004 including: 15 bean, 7 beet, 2 broccoli, 1 broccoli raab, 2 cabbage, 5 carrot, 1 cauliflower, 1 celery, 4 Chinese cabbage, 1 chicory, 3 com, 1 cowpea, 5 cucumber, 2\\neggplant, 2 endive, 1 fennel, 1 gourd, 5 kale, I leek, 20 lettuce, 1 lima, 5 melon, 2 mustard greens, 2 okra, 1 onion bunching, 2 onion common, 2 onion other, 3 parsley, 4 pea, 29 pepper, 6 radish, I spinach, 17 squash, 2 sunflower edible,\\n5 Swiss chard, 2 tomatillo, 45 tomato, 3 turnip, 3 watermelon and 6 miscellaneous.\""
  }
]